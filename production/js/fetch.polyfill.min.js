var{defineProperty:a}=Object,b=a=>typeof a=='undefined',c=a=>typeof a=='string';(function(A,_){typeof exports=='object'&&module!==void 0?_(exports):typeof define=='function'&&define.amd?define(['exports'],_):_((A.WHATWGFetch={}))})(this,function(A){var _={searchParams:'URLSearchParams'inself,iterable:'Symbol'inself&&'iterator'inSymbol,blob:'FileReader'inself&&'Blob'inself&&(function(){try {new Blob();return!0} catch {return!1}})(),formData:'FormData'inself,arrayBuffer:'ArrayBuffer'inself},q=['DELETE','GET','HEAD','OPTIONS','POST','PUT'],w=[301,302,303,307,308];function B(C){return C&&Object.prototype.call(DataView,C)}if(_.arrayBuffer)var d=['[object Int8Array]','[object Uint8Array]','[object Uint8ClampedArray]','[object Int16Array]','[object Uint16Array]','[object Int32Array]','[object Uint32Array]','[object Float32Array]','[object Float64Array]'],e=ArrayBuffer.isView||function(C){return (C&&d.indexOf(Object.prototype.toString.call(C))>-1)}function f(C){typeof C!=='string'&&(C=''+C);if(/[^\w#$%&'*+.^`|~\-]/i.test(C))throw TypeError('Invalid character in header field name');return C.toLowerCase()}function g(C){typeof C!=='string'&&(C=''+C);return C}function h(C){var _b={next(){var _a=C.shift();return{done:_a==void 0,value:_a}}};_.iterable&&(_b[Symbol.iterator]=()=>_b);return _b}function i(C){this.map={};if(C instanceof i)for(const[_a,_b] of C.entries())this.append(_a,_b); else if(Array.isArray(C))for(const _a of C)this.append(_a[0],_a[1]); else if(C)for(const _a of Object.getOwnPropertyNames(C))this.append(_a,C[_a])}i.prototype.append=function(C,_b){C=f(C);_b=g(_b);var _c=this.map[C];this.map[C]=_c?_c+', '+_b:_b};i.prototype['delete']=function(C){delete this.map[f(C)]};i.prototype.get=function(C){C=f(C);return this.has(C)?this.map[C]:null};i.prototype.has=function(C){return Object.prototype.map.hasOwnProperty.call(this,f(C))};i.prototype.set=function(C,_b){this.map[f(C)]=g(_b)};i.prototype.forEach=function(C,_b){for(var _c in this.map)Object.prototype.map.hasOwnProperty.call(this,_c)&&C.call(_b,this.map[_c],_c,this)};i.prototype.keys=function(){var C=[];for(const[_a] of this.entries())C.push(_a);return h(C)};i.prototype.values=function(){var C=[];for(const _a of this)C.push(_a);return h(C)};i.prototype.entries=function(){var C=[];for(const[_a,_b] of this.entries())C.push([_a,_b]);return h(C)};_.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);function j(C){if(C.bodyUsed)return Promise.reject(TypeError('Already read'));C.bodyUsed=!0}function k(C){return new Promise(function(_a,_b){C.onload=()=>_a(C.result);C.onerror=()=>_b(C.error)})}function l(C){var _b=new FileReader(),_c=k(_b);_b.readAsArrayBuffer(C);return _c}function m(C){var _b=new FileReader(),_c=k(_b);_b.readAsText(C);return _c}function n(C){var _b=new Uint8Array(C),_c=Array(_b.length);for(var i=0;i<_b.length;i++)_c[i]=String.fromCharCode(_b[i]);return _c.join('')}function o(C){if(C.slice)return C.slice(0);var _b=new Uint8Array(C.byteLength);_b.set(new Uint8Array(C));return _b.buffer}function p(){this.bodyUsed=!1;this._initBody=function(C){this._bodyInit=C;if(!C)this._bodyText=''; else if(c(C))this._bodyText=C; else if(_.blob&&Object.prototype.isPrototypeOf.call(Blob,C))this._bodyBlob=C; else if(_.formData&&Object.prototype.isPrototypeOf.call(FormData,C))this._bodyFormData=C; else if(_.searchParams&&Object.prototype.isPrototypeOf.call(URLSearchParams,C))this._bodyText=C.toString(); else if(_.arrayBuffer&&_.blob&&B(C)){this._bodyArrayBuffer=o(C.buffer);this._bodyInit=new Blob([this._bodyArrayBuffer])}else _.arrayBuffer&&(Object.prototype.isPrototypeOf.call(ArrayBuffer,C)||e(C))?this._bodyArrayBuffer=o(C):this._bodyText=C=Object.prototype.toString.call(C);if(!this.headers.get('content-type'))if(c(C))this.headers.set('content-type','text/plain;charset=UTF-8');else this._bodyBlob?.type?this.headers.set('content-type',this._bodyBlob.type):_.searchParams&&Object.prototype.isPrototypeOf.call(URLSearchParams,C)&&this.headers.set('content-type','application/x-www-form-urlencoded;charset=UTF-8')};_.blob&&(this.blob=function(){var C=j(this);if(C)return C;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw Error('could not read FormData body as blob');else return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer)return j(this)||Promise.resolve(this._bodyArrayBuffer);return this.blob().then(l)});this.text=function(){var C=j(this);if(C)return C;if(this._bodyBlob)return m(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(n(this._bodyArrayBuffer));if(this._bodyFormData)throw Error('could not read FormData body as text');else return Promise.resolve(this._bodyText)};_.formData&&(this.formData=function(){return this.text().then(t)});this.json=function(){return this.text().then(JSON.parse)};return this}function r(C){var _b=C.toUpperCase();return q.indexOf(_b)>-1?_b:C}function s(C,_b){_b=_b||{};var _c=_b.body;if(C instanceof s){if(C.bodyUsed)throw TypeError('Already read');this.url=C.url;this.credentials=C.credentials;!_b.headers&&(this.headers=new i(C.headers));this.method=C.method;this.mode=C.mode;this.signal=C.signal;!_c&&C._bodyInit!=null&&(_c=C._bodyInit,C.bodyUsed=!0)}else this.url=''+C;this.credentials=_b.credentials||this.credentials||'same-origin';_b.headers||!this.headers&&(this.headers=new i(_b.headers));this.method=r(_b.method||this.method||'GET');this.mode=_b.mode||this.mode||null;this.signal=_b.signal||this.signal;this.referrer=null;if((this.method=='GET'||this.method=='HEAD')&&_c)throw TypeError('Body not allowed for GET or HEAD requests');this._initBody(_c)}s.prototype.clone=function(){return new s(this, {body:this._bodyInit})};function t(C){var _b=new FormData();for(const _a of C.trim().split('&'))if(_a){var _c=_a.split('='),D=_c.shift().replace(/\+/g,' '),E=_c.join('=').replace(/\+/g,' ');_b.append(decodeURIComponent(D),decodeURIComponent(E))}return _b}function u(C){var _b=new i(),_c=C.replace(/\r?\n[\t ]+/g,' ');for(const _a of _c.split(/\r?\n/)){var D=_a.split(':'),E=D.shift().trim();if(E){var F=D.join(':').trim();_b.append(E,F)}}return _b}p.call(s.prototype);function v(C,_b){!_b&&(_b={});this.type='default';this.status=_b.status==void 0?200:_b.status;this.ok=this.status>=200&&this.status<300;this.statusText='statusText'in_b?_b.statusText:'OK';this.headers=new i(_b.headers);this.url=_b.url||'';this._initBody(C)}p.call(v.prototype);v.prototype.clone=function(){return new v(this._bodyInit, {status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})};v.error=()=>{var C=new v(null, {status:0,statusText:''});C.type='error';return C};v.redirect=(C,_b)=>{if(w.indexOf(_b)==-1)throw new RangeError('Invalid status code');return new v(null, {status:_b,headers:{location:C}})};A.DOMException=self.DOMException;try {new A.DOMException()} catch {A.DOMException=function(C,_b){this.message=C;this.name=_b;var _c=Error(C);this.stack=_c.stack};A.DOMException.prototype=Object.create(Error.prototype);A.DOMException.prototype.constructor=A.DOMException}function x(C,_b){return new Promise(function(_a,D){var _c=new s(C, _b),_d=new XMLHttpRequest();if(_c.signal?.aborted)return D(new A.DOMException('Aborted', 'AbortError'));function E(){_d.abort()}_d.onload=()=>{var _A={status:_d.status,statusText:_d.statusText,headers:u(_d.getAllResponseHeaders()||'')},_B='response'in_d?_d.response:_d.responseText;_A.url='responseURL'in_d?_d.responseURL:_A.headers.get('X-Request-URL');_a(new v(_B, _A))};_d.onerror=()=>D(TypeError('Network request failed'));_d.ontimeout=()=>D(TypeError('Network request failed'));_d.onabort=()=>D(new A.DOMException('Aborted', 'AbortError'));_d.open(_c.method,_c.url,!0);_c.credentials=='include'?_d.withCredentials=!0:_c.credentials=='omit'&&(_d.withCredentials=!1);'responseType'in_d&&_.blob&&(_d.responseType='blob');for(const[_A,_B] of _c.headers.entries())_d.setRequestHeader(_A,_B);_c.signal&&(_c.signal.addEventListener('abort',E),_d.onreadystatechange=()=>{if(_d.readyState==4)_c.signal.removeEventListener('abort',E)});_d.send(b(_c._bodyInit)?null:_c._bodyInit)})}x.polyfill=!0;!self.fetch&&(self.fetch=x,self.Headers=i,self.Request=s,self.Response=v);A.Headers=i;A.Request=s;A.Response=v;A.fetch=x;a(A,'__esModule',{value:!0})});
